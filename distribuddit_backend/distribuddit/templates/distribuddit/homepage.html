{% extends 'base_generic.html' %}
{% load static %}

{% block content %}
<!-- A brief title section -->
<div class="container pb-5">
    <h1>Distribuddit</h1>
    <p>A decentralised alternative to Reddit. Control your opinions online. Express your thoughts freely without fears
        of censorship.</p>
    <a href="{% url 'submit' %}" class="btn btn-primary">Create a post</a>
    <textarea id="paste"></textarea>
</div>
<!-- Post list -->
<div class="d-grid gap-3">
    <!-- An example of a post entry -->
    <div class="container bg-light border">
        <div class="row">
            <div class="col">
                <a href="#" class="link-primary">Post title</a>
            </div>
        </div>
        <div class="row">
            <div class="col">
                <span><small>1234 points | <a href="post.html" class="link-secondary">1234 comments</a></small></span>
            </div>
        </div>
        <div class="row">
            <div class="col">
                <span><small>Posted by <a href="#"
                            class="link-secondary">0xc039c745468cb563be1fa5d7ec8af8e059659a2378fc4ce6d70643481432a0ce</a>
                        3
                        hours ago</small></span>
            </div>
        </div>
    </div>

    <!-- Some more example posts -->
    <div class="container bg-light border">
        <div class="row">
            <div class="col">
                <a href="https://github.com/megascrapper/ourairports_api" class="link-primary">Check out
                    this
                    thing I made a while back</a>
            </div>
        </div>
        <div class="row">
            <div class="col">
                <span><small>1234 points | 1234 comments</small></span>
            </div>
        </div>
        <div class="row">
            <div class="col">
                <span><small>Posted by <a href="#"
                            class="link-secondary">0xc039c745468cb563be1fa5d7ec8af8e059659a2378fc4ce6d70643481432a0ce</a>
                        3
                        hours ago</small></span>
            </div>
        </div>
    </div>

    <div class="container bg-light border">
        <div class="row">
            <div class="col">
                <a href="https://github.com/ReynaldKusumahadi/UNIHACK-2022" class="link-primary">What are we making
                    again?</a>
            </div>
        </div>
        <div class="row">
            <div class="col">
                <span><small>1234 points | 1234 comments</small></span>
            </div>
        </div>
        <div class="row">
            <div class="col">
                <span><small>Posted by <a href="#"
                            class="link-secondary">0xc039c745468cb563be1fa5d7ec8af8e059659a2378fc4ce6d70643481432a0ce</a>
                        3
                        hours ago</small></span>
            </div>
        </div>
    </div>
</div>
{% endblock %}


{% block scripts %}
    <script src="https://cdn.jsdelivr.net/npm/gun/gun.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gun/sea.js"></script>
    <!--    <script src="script.js"></script>-->
    <script>
        // gun = GUN(); // your code here
        // var gun = Gun({ file: 'db/data.json', radisk: false, localStorage: true });
        //
        // // Gun('localhost/gun')
        //
        // gun.get('key').put({hello:"world"
        // }, function (ack) {
        //     // console.log(ack);
        // });
        //
        // gun.get('key').on(function(data, key){
        //     // {property: 'value'}, 'key'
        //     console.log(data);
        // })

        // Initiate Gun
        // var gun = Gun();
        // // Announce to peers
        // gun.get('key').put({hello:"world"});
        // // Listen for peers
        // gun.get('key').on(function(data, key){
        //     console.log(data);
        // })

        // var gun = Gun();
        // , 'https://gun-manhattan.herokuapp.com/gun'

        gun = Gun(['192.168.109.128:8765/gun', 'https://gun-server-unihack.herokuapp.com/gun']);
        copy = gun.get('test').get('paste');
        paste.oninput = () => {
            copy.put(copy.put(paste.value));
        }
        copy.on((data) => { paste.value = data });

    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>
{% endblock %}